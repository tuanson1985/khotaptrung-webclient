(()=>{function e(e){return("@"+e.toLowerCase().replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a").replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e").replace(/i|í|ì|ỉ|ĩ|ị/gi,"i").replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o").replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u").replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y").replace(/đ/gi,"d").replace(/\`|\~|\!|\@|\#|\||\$|\%|\^|\&|\*|\(|\)|\+|\=|\,|\.|\/|\?|\<|\'|\"|\:|\;|_/gi,"").replace(/ /gi,"-").replace(/\-\-\-\-\-/gi,"-").replace(/\-\-\-\-/gi,"-").replace(/\-\-\-/gi,"-").replace(/\-\-/gi,"-")+"@").replace(/\@\-|\-\@|\@/gi,"")}$(".service-form").on("submit",(function(t){t.preventDefault();var a=e($(this).find('[name="search"]').val()),r=!0,l=$("#text-empty");l.hide(),$(".js-service").each((function(t,l){var c=$(l).find("img").attr("alt");c=e(c),$(this).toggle(c.indexOf(a)>-1),c.indexOf(a)>-1&&(r=!1)})),r&&l.show()})),$("input[numberic]").on("keypress",(function(e){var t=e.which?e.which:e.keyCode;return!(46!=t&&t>31&&(t<48||t>57))}));var t,a,r=$("#data_params"),l=$("#input_pack"),c=$("#txt-price"),n=-1;if(n=parseInt($("select[name=server] option").filter(":selected").val()),r.length)switch(t=JSON.parse(r.val()),a=7==t.filter_type?t.filter_name:"VNĐ",t.filter_type){case"3":break;case"4":$("select[name=selected]").change((function(e,t){itemselect=s=parseInt($("select[name=selected] option").filter(":selected").val()),o()})),$("select[name=server]").change((function(e,t){n=parseInt($("select[name=server] option").filter(":selected").val()),o()}));var s=parseInt($("select[name=selected] option").filter(":selected").val()),i=$("select[name=selected] option").filter(":selected").text();o();var o=function(){var e=0;if(-1!=s){if(1==t.server_mode&&1==t.server_price){var a=t["price"+n];e=parseInt(a[s])}else{var r=t.price;e=parseInt(r[s])}e=(e=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1.")).split("").reverse().join("").replace(/^[\.]/,""),c.text(e+" VNĐ"),$(".service_pack").html("<small>".concat(i,"</small>")),$(".total--price").text("".concat(e," VNĐ"))}};break;case"5":$('#select-multi input[type="checkbox"]').change((function(){p(),d()}));var p=function(){var e=$('#select-multi input[type="checkbox"]:checked'),a=0,r="";if(1==t.server_mode&&1==t.server_price)var l=t["price"+n];else l=t.price;e.length>0&&(e.each((function(e,t){a+=parseInt(l[$(t).val()]),r&&(r+="|"),r+=$(this).val()})),$("input[name=selected]").val(r)),a=(a=a.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1.")).split("").reverse().join("").replace(/^[\.]/,""),c.text(a+" VNĐ"),$(".total--price").text(a+" VNĐ")},d=function(){var e=$('#select-multi input[type="checkbox"]:checked');e.length&&($(".service_pack").html(""),e.each((function(e){var t=$(this).parent().find(".label--checkbox__name").text().trim(),a="";a+="<small>",a+="".concat(t),a+="</small>",$(".service_pack").append(a)})))};break;case"6":$(".js-selected").on("change",(function(){var e=$(this).data("type");m(e)})),m();var m=function(e){var a=1*$("select[name=rank_from]").val(),r=1*$("select[name=rank_to]").val(),l=$("select[name=rank_from] option").filter(":selected").text(),n=$("select[name=rank_to] option").filter(":selected").text(),s=t.price,i=0;if(a<r)for(var o=parseInt(a)+1;o<=r;o++)i+=parseInt(s[o]-s[o-1]);else if(0==e){$(".data-select-rank-end ul li[data-value="+r+"]").removeClass("selected"),r=a+1;for(o=parseInt(a)+1;o<=r;o++)i+=parseInt(s[o]-s[o-1]);$("select[name=rank_to]").val(r),$(".data-select-rank-end ul li[data-value="+r+"]").addClass("selected"),n=$(".data-select-rank-end ul li[data-value="+r+"]").text(),$(".data-select-rank-end .current").html(""),$(".data-select-rank-end .current").html(n)}else{$(".data-select-rank-start ul li[data-value="+a+"]").removeClass("selected"),a=r-1;for(o=parseInt(a)+1;o<=r;o++)i+=parseInt(s[o]-s[o-1]);$("select[name=rank_from]").val(a),$(".data-select-rank-start ul li[data-value="+a+"]").addClass("selected"),l=$(".data-select-rank-start ul li[data-value="+a+"]").text(),$(".data-select-rank-start .current").html(""),$(".data-select-rank-start .current").html(l)}i=(i=i.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1.")).split("").reverse().join("").replace(/^[\.]/,""),c.html(i+" VNĐ"),$(".service_pack").html("<small>".concat(l," - ").concat(n,"</small>")),$(".total--price").text("".concat(i," VNĐ"))};break;case"7":var v=function(){var e=parseInt(l.val().replace(/\./g,""));if("number"!=typeof e||e<t.input_pack_min||e>t.input_pack_max)c.text("Tiền nhập không đúng");else{var r=0,s=0,i=n,o=e.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1.");if(o=o.split("").reverse().join("").replace(/^[\.]/,""),e){if(1==t.server_mode&&1==t.server_price)for(var p=t["price"+i],d=t["discount"+i],m=0;m<p.length;m++)e>=p[m]&&null!=p[m]&&(p[m],m,s=d[m],r=e*d[m]);else{p=t.price;s=(d=t.discount)[0];for(var v=0;v<p.length;v++)v&&e>=p[v]&&(s=d[v]);r=e*s}r=parseInt(r/1e3*t.input_pack_rate),$("#txt-discount").val(s),r=(r=r.toString().split("").reverse().join("").replace(/(?=\d*\.?)(\d{3})/g,"$1.")).split("").reverse().join("").replace(/^[\.]/,""),c.html(""),c.text(r+" "+a),$(".service_pack").html("<small>".concat(r," ").concat(a,"</small>")),$(".total--price").text("".concat(o," VNĐ"))}else c.text("Tiền nhập không đúng"),$(".service_pack").html("<small>Tiền nhập không đúng</small>"),$(".total--price").text("".concat(o," VNĐ"))}};l.bind("focus keyup",(function(){v()})),$("select[name=server]").on("change",(function(){v()})),v()}$(".submit-form").on("click",(function(){var e=1*$("#surplus").val(),t=Array.from($(".total--price")),a=$(document).width()>992?t[0]:t[1];if(e<1*$(a).text().match(/\d/g).join(""))return $("#openOrder").modal("hide"),void $("#rechargeModal").modal("show");var r=$("#formDataService").serializeArray().reduce((function(e,t){return e[t.name]=t.value,e}),{}),l=$("#formDataService").attr("action");r.selected&&(r.selected=r.selected.replace(/\./g,"")),$(this).html("Đang xử lý..."),$.ajax({type:"POST",url:l,data:r,success:function(e){e.status?($(".js-message-res span").text(e.message),$(document).width()>1200?$(".openSuccess").trigger("click"):$(".button-next-step-two").trigger("click")):$(".modal__error__message small").text(e.message)},complete:function(){$(".submit-form").html("Xác nhận")}})}));var u=$("#table-bot");u.length&&$.ajax({type:"GET",url:"/show-bot",data:{slug:$("#slug").val()},success:function(e){e.status&&(u.html(""),u.html(e.data))}})})();